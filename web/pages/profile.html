<!DOCTYPE html>
<html>
    <head>
        <title>Profilo - DreamVille</title>
        <link rel="shortcut icon" href="assets/logo.png" />
        <meta charset="utf-8">
        <meta name="description" content="Visualizza i dati del tuo profilo DreamVille">    
        <meta name="keywords" content="dati, utente, account, profilo, DreamVille">
    
        <link id="pagestyle" rel="stylesheet" type="text/css" href="style/style.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">

        <script src="scripts/script.js"></script>
    </head>
    <body class="tertiaryBg">
        <nav id="breadcrumb">
            <p>Ti trovi in: <a href="index.php" lang="en">Home</a> > Profilo personale</p>
            <p>Orario di oggi: {{ $orario }}</p>
            <div id="userCrumb">{{ $userInfosHeader }}</div>
        </nav>
        <div id="headerNavWrapper">
            <header>
                <h1><span lang="en">DreamVille</span></h1>
            </header>
            <nav id="menu">
                <ul>
                    <li lang="en"><a href="index.php">Home</a></li>
                    <li><a href="#">Scopri <span lang="en">DreamVille</span></a></li>
                    <li><a href="#">Informazioni per la tua visita</a></li>
                    <li><a href="#">Compra biglietti e abbonamenti</a></li>
                </ul>
            </nav>
        </div>
        <main id="profileMain">
            <!-- TODO: USARE HEADER ALL'INTERNO DI MAIN??? -->
            <h1>Ciao {{ $nome }}!</h1> 
            <!-- FIXME: cambiare nome container -->
            <div id="container">
                <div class="card" id="profileCard">
                    <h2>I miei dati</h2>
                    <div id="profileDetailsContainer">
                        <dl>
                            <dt><strong>Nome:</strong></dt>
                            <dd>{{ $nome }}</dd>
                            <dt><strong>Cognome:</strong></dt>
                            <dd>{{ $cognome }}</dd>
                            <dt><strong>Username:</strong></dt>
                            <dd>{{ $username }}</dd>
                            <dt><strong>Password: </strong></dt>
                            <dd>&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;</dd>
                        </dl>
                        <a href="#" class="buttonStyle translateUpOnHover filledGradientBtn">Modifica i dati</a>
                    </div>
                </div>
                <div class="card" id="purchasesCard">
                    <h2>I miei acquisti</h2>
                    @if empty($lastOrder)
                        <p>Non hai ancora effettuato acquisti</p>
                    @else
                        <h3>Ultimo ordine effettuato il {{ $orderDay }}/{{ $orderMonth }}/{{ $orderYear }} alle {{ $orderHour }}:{{ $orderMinute }}</h3>
                        <div class="ticketCardsContainer">
                        @for $ticket in $lastOrder 
                            <div class='card ticketCard'>
                                <!-- FIXME: rendere svg accessibile -->
                                <svg viewBox="0 0 457.208 457.208">
                                    <path d="M442.468,196.301c8.182-0.142,14.74-6.814,14.74-14.998v-72.778c0-8.284-6.716-15-15-15H15c-8.284,0-15,6.716-15,15
                                    v72.768c0,3.996,1.595,7.828,4.431,10.644c2.835,2.815,6.652,4.387,10.675,4.356c0.158-0.002,0.315-0.005,0.478-0.01
                                    c17.732,0.105,32.125,14.564,32.125,32.321c0,17.764-14.405,32.226-32.146,32.32c-0.148-0.004-0.297-0.007-0.447-0.009
                                    c-0.039,0-0.077,0-0.116,0c-3.957,0-7.755,1.563-10.565,4.353C1.596,268.084,0,271.917,0,275.915v72.768c0,8.284,6.716,15,15,15
                                    h427.208c8.284,0,15-6.716,15-15v-72.778c0-8.183-6.559-14.855-14.74-14.998c-17.507-0.303-31.749-14.794-31.749-32.303
                                    C410.719,211.095,424.961,196.603,442.468,196.301z M381.396,300.513c0,8.284-6.716,15-15,15H90.813c-8.284,0-15-6.716-15-15
                                    v-143.82c0-8.284,6.716-15,15-15h275.583c8.284,0,15,6.716,15,15V300.513z"/>
                                    <rect x="105.813" y="171.693" width="159.396" height="113.82"/>
                                    <rect x="295.208" y="171.693" width="56.188" height="113.82"/> 
                                </svg>
                                <div class='ticketCardDetails'>
                                    <h4>{{ $ticket['tipoBiglietto'] }}</h4>
                                    <p>Id: {{ $ticket['idBiglietto'] }}</p>
                                    <p>Pagato {{ $ticket['sommaPagata'] }}&#x20AC;</p>
                                </div>
                            </div>
                        @endfor
                        </div>
                    @endif
                    <a href="#" class="buttonStyle translateUpOnHover outlineGradientBtn">Visualizza tutti gli ordini</a>
                </div>
            </div>
        </main>
    </body>
</html>
    